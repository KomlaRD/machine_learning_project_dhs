---
title: Machine learning modelling of nutrition indicators in children under five years
  in Ghana- R version
output: html_document
date: '2022-06-11'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r load-libraries}
pacman::p_load(
        tidyverse, # Data wrangling and visualisation
        skimr, # Skim dataset
        rio, # Import dataset
        here, # Directory management
        finalfit, # Model parameters and column labelling
        ggstatsplot, # Statistical plots
        GGally, # Scatterplot matrix
        caret, # Machine learning
        gtsummary, # Summary tables
        janitor, # Data cleaning
        parameters # Model parameters
)
```

```{r import-dataset}
df <- import(here("data","GHKR72FL.SAV")) # Import dataset from the data folder
```



## Variable selection

- Divide the z-score variables by 100

#### Outcome variables

- WFH z-scores (HW72)
- HFA z-scores (HW70)
- WFA z-scores (HW71)

#### Features

- Type of place of residence (V102): 1 for Urban, 2 for Rural
- child age in months (HW1)
- Birth order number (B0RD)
- Gender of the child (B4): 1 for Male, 2 for female
- Birth weight in kg (M19): 9996: No weight; 9998: Don't know; Divide by 1000
- Number of children 5 and under in household (V137)
- Highest education level (v106): 0 for No education, 1 for Primary, 2 for Secondary, 3 for Higher
- Wealth index (V190): 1 for Poorest, 2 for Poorer, 3 for Middle, 4 for Richer, 5 for Richest
- Had diarrhea recently (H11): 0 for No, 1 for Yes, last 24 hours, 2 for Yes, last two weeks, 8 for don't know (Join the values for yes into one)
- Type of toilet facility ()
- Weight in kg (HW2): 9994 for present, 9995 for Refused, 9996 for other; Divide weight by 10.
- Region (V024): 1 for Western, 2 for Central, 3 for Greater Accra, 4 for Volta, 5 for Eastern, 5 for Ashanti, 7 for Brong Ahafo, 8 for Nothern, 9 for Upper East, 10 for Upper West
- Source of drinking water (V113): 10 for Piped water, 20 for Tube well water, 32 for Unprotected well, 43 for River, 71 for Bottled water, 11 for Piped into dwelling, 21 for Tube well or borehole, 40 for Surface Water, 51 for rain water, 72 for Sachet water, 12 for Piped to yard/plot, 30 for Dug well, 41 for Protected spring, 61 for Tanker trunk, 96 for other, 13 for public tap/standpipe, 31 for protected well, 42 for unprotected spring, 62 for cart with small tank, and 97 for not a dejure resident   ; Recode to improved and non-improved sources of water




```{r column-selection}
# Use select() function from tidyverse to select columns of interest
df$V113
```


```{r skim-dataset}
# Use skim() from skimr
# Note assessment of data
```


```{r clean-dataset}
# Clean and preprocess data using janitor and tidyverse
```


```{r statistical-visualisation}
# Stats visualisations using ggstatsplot
# Note observations under exploratory section
```


```{r scatterplot-matrix}
# Create a scatterplot matrix using ggpairs from GGally
# Note observations under exploratory section
```

## Introduction

Provide detailed information about the dataset

### Machine learning workflow

1.  Access and load the data: Completed
2.  Preprocess the data
3.  Derive features using the preprocessed data
4.  Train models using the features derived in step 3
5.  Iterate to find the best model
6.  Integrate the best-trained model into a production system

## Exploratory data analysis




## Baseline model


## Iterate


## Evaluate model
